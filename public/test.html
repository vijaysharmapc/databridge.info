<html>
  <head>
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script type="text/javascript">
      google.charts.load('current', {
        'packages':['geochart'],
        // Note: you will need to get a mapsApiKey for your project.
        // See: https://developers.google.com/chart/interactive/docs/basic_load_libs#load-settings
        'mapsApiKey': 'AIzaSyD-9tSrke72PouQMnMX-a7eZSW0jkFMBWY'
      });
      google.charts.load('current', { 'packages': ['corechart'] });
      google.charts.setOnLoadCallback(drawRegionsMap);
      google.charts.setOnLoadCallback(drawRegionsMap2);
/*
      function drawRegionsMap() {
        var data = google.visualization.arrayToDataTable([
          ['Country', 'Popularity'],
          ['Germany', 200],
          ['United States', 300],
          ['Brazil', 400],
          ['Canada', 500],
          ['France', 600],
          ['RU', 700],
          ['INDIA', 410]
        ]);

        var options = {};

        var chart = new google.visualization.GeoChart(document.getElementById('regions_div'));

        chart.draw(data, options);
      }
*/
function drawRegionsMap() {

    $.ajax({
    type: 'GET',
    url: 'http://databridge.info/api/byregiond',

  success: function (data1) {
   //alert (data1);
    // Create our data table out of JSON data loaded from server.
    var data = new google.visualization.DataTable();

  data.addColumn('string', 'country');
  data.addColumn('number', 'bahubali');
//  data.addColumn('number', 'dangal');

  var jsonData = $.parseJSON(data1);
 //alert (data1);
  for (var i = 0; i < jsonData.length; i++) {

    if (parseInt(jsonData[i].movie1) > 0) {
        data.addRow([jsonData[i].geoName, parseInt(jsonData[i].movie1)]);
}
  }

  //alert (data);
  var options = {
    sizeAxis: { minValue: 0, maxValue: 100 },
    title: 'Baahubali -2  reach',
    displayMode: 'markers',
    colorAxis: {colors: ['green','blue']} // orange to blue
  };

  //var options = {};

  var chart = new google.visualization.GeoChart(document.getElementById('regions_div'));

  chart.draw(data, options);
   }
 });
}

//DANGAL
function drawRegionsMap2() {

    $.ajax({
    type: 'GET',
    url: 'http://databridge.info/api/byregiond',

  success: function (data1) {
   //alert (data1);
    // Create our data table out of JSON data loaded from server.
    var data = new google.visualization.DataTable();

  data.addColumn('string', 'country');
  data.addColumn('number', 'dangal');
//  data.addColumn('number', 'dangal');

  var jsonData = $.parseJSON(data1);
 //alert (data1);
  for (var i = 0; i < jsonData.length; i++) {
    if (parseInt(jsonData[i].movie2) > 0) {
        data.addRow([jsonData[i].geoName, parseInt(jsonData[i].movie2)]);
    }
  }

  //alert (data);
  var options = {
    sizeAxis: { minValue: 0, maxValue: 100 },
        title: 'Dangal  reach',
    displayMode: 'markers',
    colorAxis: {colors: ['brown','red']} // orange to blue
  };

  //var options = {};
//https://www.telegraphindia.com/1170704/jsp/frontpage/story_160126.jsp
  var chart = new google.visualization.GeoChart(document.getElementById('regions_div2'));

  chart.draw(data, options);
   }
 });
}



    </script>
  </head>
  <body>
    <p>Baahubali 2's reach</p>
    <div id="regions_div" style="width: 800px; height: 400px;"></div>
    <p>Dangal's reach</p>
    <div id="regions_div2" style="width: 800px; height: 400px;"></div>
  </body>

  <script src="bootstrap-3.3.5/jquery/jquery-3.2.1.min.js"></script>
  <script src="bootstrap-3.3.5/dist/js/bootstrap.min.js"></script>

</html>
